 

const billet = [
    {
        tag: "огород",
        cover: "https://shansonline.ru/media/k2/items/cache/923b371b60cbf171027469f2c12d740a_XL.jpg",
        children: [
            {
                tag: "грибы",
                cover: false,
                children: [],
            },
            {
                tag: "томаты",
                cover: "https://www.gastronom.ru/binfiles/images/20160329/m4cd7935.jpg",
                children: [],
            },
            {
                tag: "топинамбур",
                cover: "https://cdn.botanichka.ru/wp-content/uploads/2017/07/Helianthus-tuberosus-5.jpg",
                children: [],
            },
            {
                tag: "огурцы",
                cover: false,
                children: [],
            },
            {
                tag: "фасоль",
                cover: false,
                children: [],
            },
            {
                tag: "горох",
                cover: false,
                children: [],
            },
            {
                tag: "морковь",
                cover: false,
                children: [],
            },
            {
                tag: "кукуруза",
                cover: false,
                children: [],
            },
            {
                tag: "свекла",
                cover: false,
                children: [],
            },
            {
                tag: "репа",
                cover: false,
                children: [],
            },
            {
                tag: "лук",
                cover: false,
                children: [],
            },
            {
                tag: "чеснок",
                cover: false,
                children: [],
            },
            {
                tag: "картошка",
                cover: false,
                children: [],
            },
        ]
    },
    {
        tag: "огородная экзотика",
        cover: false,
        children: [],
    },
    {
        tag: "огород под укрытиями",
        cover: false,
        children: [],
    },
    {
        tag: "пряная грядка",
        cover: false,
        children: [],
    },
    {
        tag: "грядка аптекаря",
        cover: false,
        children: [
            {
                tag: "можжевельник",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "плодовый сад",
        cover: false,
        children: [
            {
                tag: "яблоня",
                cover: false,
                children: [],
            },
            {
                tag: "груша",
                cover: false,
                children: [],
            },
            {
                tag: "смородина (красная)",
                cover: false,
                children: [],
            },
            {
                tag: "смородина (черная)",
                cover: false,
                children: [],
            },
            {
                tag: "смородина (белая)",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "гроувинг",
        cover: false,
        children: [],
    },
    {
        tag: "комнатные растения",
        cover: false,
        children: [
            {
                tag: "купрессус",
                cover: false,
                children: [],
            },
            {
                tag: "кипарисовик",
                cover: false,
                children: [],
            },
            {
                tag: "хамедорея",
                cover: false,
                children: [],
            },
            {
                tag: "папоротник",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "дары природы",
        cover: false,
        children: [
            {
                tag: "грибы",
                cover: false,
                children: [],
            },
            {
                tag: "ягоды",
                cover: false,
                children: [],
            },
            {
                tag: "травы",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "плодородие земли",
        cover: false,
        children: [
            {
                tag: "агротехника",
                cover: false,
                children: [],
            },
            {
                tag: "минеральные удобрения",
                cover: false,
                children: [],
            },
            {
                tag: "органические удобрения",
                cover: false,
                children: [],
            },
            {
                tag: "подкормки",
                cover: false,
                children: [],
            },
            {
                tag: "полезная живность",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "Битва за урожай",
        cover: false,
        children: [
            {
                tag: "диагностирование",
                cover: false,
                children: [
                    {
                        tag: "грибковые заболевания",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "вирусные заболевания",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "потребности в питательных веществах",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "ошибки выращивания",
                        cover: false,
                        children: [],
                    },
                ],
            },
            {
                tag: "подкормки",
                cover: false,
                children: [],
            },
            {
                tag: "микроудобрения",
                cover: false,
                children: [],
            },
            {
                tag: "фунгициды",
                cover: false,
                children: [],
            },
            {
                tag: "биопрепараты",
                cover: false,
                children: [],
            },
            {
                tag: "вредители",
                cover: false,
                children: [
                    {
                        tag: "насекомые",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "птицы",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "животные",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "вирусные заболевания",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "грибковые заболевания",
                        cover: false,
                        children: [],
                    },
                    {
                        tag: "сорняки",
                        cover: false,
                        children: [],
                    },
                ],
            },
            {
                tag: "полезная живность",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "дачный участок",
        cover: false,
        children: [
            {
                tag: "ландшафтный дизайн",
                cover: false,
                children: [],
            },
            {
                tag: "зоны отдыха",
                cover: false,
                children: [],
            },
            {
                tag: "дачные постройки",
                cover: false,
                children: [],
            },
            {
                tag: "строительство дома",
                cover: false,
                children: [],
            },
            {
                tag: "уход за домом",
                cover: false,
                children: [],
            },
            {
                tag: "инструменты",
                cover: false,
                children: [],
            },
            {
                tag: "садово-огородный инвентарь",
                cover: false,
                children: [],
            },
            {
                tag: "садовые поделки",
                cover: false,
                children: [],
            },
            {
                tag: "законодательство РФ",
                cover: false,
                children: [],
            },
            {
                tag: "соседи",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "переработка урожая",
        cover: false,
        children: [
            {
                tag: "рецепты",
                cover: false,
                children: [],
            },
            {
                tag: "консервация",
                cover: false,
                children: [],
            },
            {
                tag: "химическая обработка",
                cover: false,
                children: [],
            },
            {
                tag: "замораживание",
                cover: false,
                children: [],
            },
            {
                tag: "дегидрация",
                cover: false,
                children: [],
            },
            {
                tag: "хранение урожая",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "Животноводство",
        cover: false,
        children: [
            {
                tag: "курицы",
                cover: false,
                children: [],
            },
            {
                tag: "козы",
                cover: false,
                children: [],
            },
            {
                tag: "корова",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "руководство огородника",
        cover: false,
        children: [],
    },
    {
        tag: "предпринимательство",
        cover: false,
        children: [
            {
                tag: "сбыт",
                cover: false,
                children: [],
            },
        ],
    },
    {
        tag: "биология растений",
        cover: false,
        children: [],
    },
]


let idTag = 0
export let tags = []

const objImg_1 = {
    path: null,
    src: null,
    thumbnail: null,

    picKey: "PIC-4457",
    // ↑ код по которому картинка будет вставлена в нужное место в документе
    // актуально только для статей и не имеет отношения к самой картинке

    title: "Картинка №245",
    description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
    link: {
        title: "У картинки может быть прикрепленная ссылка",
        description: "У ссылки может быть описание",
        url: "адрес/ссылки.html"
    }
}

const transformation = (array, parent_id = 0) => {

    for (let index = 0; index < array.length; index++) {
        idTag += 1

        tags.push({ 
            parent_id,
            id: idTag,
            tag: array[index].tag,
            is_children: array[index].children.length === 0 ? false : true,
            cover: array[index].cover ? { ...objImg_1, src: array[index].cover } : false
        })

        if (array[index].children.length > 0){
            transformation(array[index].children, idTag)
        }
    }
}

transformation(billet)

// console.log(tags)